name: Issue Management

on:
  issues:
    types: [opened, labeled]
  pull_request_target:
    types: [opened]

jobs:
  greet:
    name: Greet New Contributors
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    
    steps:
      - name: Greet first-time contributors on issues
        if: github.event_name == 'issues' && github.event.action == 'opened'
        uses: actions/first-interaction@v3
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          issue-message: |
            ðŸ‘‹ Thanks for opening your first issue in HotCRM! 
            
            We appreciate your contribution and will review this as soon as possible.
            
            Please make sure you've provided:
            - A clear description of the issue
            - Steps to reproduce (if applicable)
            - Expected vs actual behavior
            - Your environment details
            
            A maintainer will be with you shortly!
      
      - name: Greet first-time contributors on PRs
        if: github.event_name == 'pull_request_target' && github.event.action == 'opened'
        uses: actions/first-interaction@v3
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          pr-message: |
            ðŸŽ‰ Thanks for opening your first pull request in HotCRM!
            
            We're excited to review your contribution. Please ensure:
            - [ ] Your code follows our style guidelines
            - [ ] You've added/updated tests if needed
            - [ ] Documentation is updated if needed
            - [ ] All CI checks pass
            
            A maintainer will review your PR soon. Thanks for contributing! ðŸš€
